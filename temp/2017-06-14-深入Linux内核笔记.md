### 第一章 绪论
    Linux是Linus Torvalds在1991年开发的

* Linux与其它类Unix内核的比较
    - POSIX = Portable Operating Systems Based on Unix 基于Unix的可移植操作系统
    - Linux的特性
        + 单块结构的内核（monolithic kernel）
        + 编译并静态连接的传统Unix内核
        + 内核线程
        + 多线程应用程序支持
        + 抢占式内核（preemptive）
        + 多处理器支持
        + 文件系统
        + STREAMS
* 硬件的依赖性
    - 完全隔离硬件无关和硬件相关源码
    - arch目录下有硬件分类（arm,i386,ia64,ppc,x86_64等）
* Linux版本
    - 早期用a.b.c来表示版本，a.b代表版本，a从1996年后一直为2，b如果是偶数为稳定版本，c为发行号
    - 目前已经不再用偶数表示稳定版本，
* 操作系统基本概念
    - 操作系统必须完成两个目标
        + 与硬件部分交互，为包含在硬件平台上的所有底层可编程部件提供服务
        + 为运行在计算机系统上的应用程序提供执行环境
    - 有些操作系统可以让应用程序和底层硬件直接交互（MS-DOS）
    - Unix引入了用户态（User Mode）和内核态（Kernel Mode）来隔离操作 
* Unix文件系统概述
    - 文件
        + 文件是以字节序列组成的信息载体
        + 文件和目录名由除"/"和"\0"之外的任意ASCII字符序列组成，长度不超过255
        + 文件有一个inode，用于唯一标识文件本身，需要包含以下信息
            * 文件类型
            * 与文件相关的硬链接个数
            * 以字节为单位的文件长度
            * 设备标识符
            * 在文件系统中标识文件的索引节点号
            * 文件拥有者的UID
            * 文件用户组ID
            * 几个时间戳，标识索引节点状态改变的时间、最后访问时间、最后修改时间
            * 访问权限和文件模式
    - [硬链接和软链接](https://www.ibm.com/developerworks/cn/linux/l-cn-hardandsymb-links/)
        + 硬链接(hard link)就是包含在目录中的文件名
            * ln p1 p2为p1创建一个路径名为p2的硬链接
            * 硬链接不能作用于目录，会形成环
            * 同一个文件系统下的文件才可以创建链接
            * 硬链接实际是增加inode的计数，所以p1p2代表的都是同一个文件
            * 删除p2只代表inode计数减1，inode不为0，永远都不会删除文件
        + 软连接（soft link）没有硬链接的限制
            * ln -s p1 p2创建一个软链接
            * 软链接的p2有自己的inode，p2记录了p1的文件路径
            * 当p1删除，p2也会失效
            * 当修改p2时，会定向到p1进行修改
* Unix内核概述
    - 每种CPU模型都 有从用户态到内核态的转换指令
    - 单核处理器中，永远只有一个进程在运行，要么是用户态的，要么是内核态的
    - Unix内核都是可重入的（reentrant），也就是提供给用户态的函数，都只能修改局部变量
    - 对于某些非可重入函数，由内核提供锁机制保证每次只有一个进程执行这个函数
    - 进程地址空间
        + 用户态和内核态的进程地址空间是独立分开的
        + 用户态进程之间支持[地址共享](http://blog.csdn.net/ljianhui/article/details/10253345)，进行进程间通信
    - 同步和临界区
    - 信号和进程间通信
        + Unix信号（signal）提供把系统事件报告给进程的一种机制（比如CTRL-C）
        + 异步通告和同步通告
    - 进程管理
        + fork创建进程、_exit结束进程_
    - 僵死进程（zombie process）
        + wait4()用于检测子进程是否终止
        + shell执行的后台运行程序，其父进程为init
    - 进程组和登录会话
    - 虚拟内存
    - RAM的使用
    - 内核内存分配器
    - 进程虚拟地址空间处理
    - 高速缓存
    - 设备驱动程序

### 第二章 内存寻址
* 内存地址
    - 逻辑地址
        + 包含在机器语言指令中用来指定一个操作数或一条指令的地址。
        + 每一个逻辑地址都由一个段（segment）和偏移量（offset）组成
    - 线性地址（虚拟地址）
        + 32位无符号整数，4GB地址空间
    - 物理地址
        + 用于内存芯片级内存单元寻址
    - 内存控制单元（MMU）
        + MMU通过分段单元（segmentation unit）把逻辑地址转换为线性地址
        + 分页单元（paging unit）把线性地址换成物理地址
* 硬件中的分段
* Linux中的分段
* 硬件中的分页
* Linux中的分页

### 第三章 进程
* 进程、轻量级进程和线程
    - pthread=POSIX thread
    - Linux采用轻量级进程来模拟线程
* 进程描述符
    - 进程的状态
        + 可运行状态（TASK_RUNNING）
        + 可中断的等待状态（TASK_INTERRUPTIBLE）
        + 不可中断的等待状态（TASK_UNINTERRUPTIBLE）
        + 暂停状态（TASK_STOPPED）
        + 跟踪状态（TASK_TRACED）
    - 标识一个进程
        + 进程有自己的进程描述符，里面记录进程所有信息
        + Unix-like系统允许用户使用PID进行标识进程
* 进程切换
* 创建进程
* 撤销进程
