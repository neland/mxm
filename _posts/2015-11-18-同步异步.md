---
layout: post
title: 同步/异步 阻塞/非阻塞
comments: true
category: Linux
---
很多时候，我们单独的去理解这四个词汇会觉得，他们两两相同，同步=阻塞 异步=非阻塞。

而要区分清楚他们的区别，我们要明白他们所使用的场景。

* 同步/异步, 它们是消息的通知机制。

* 阻塞/非阻塞, 它们是程序在等待消息(无所谓同步或者异步)时的状态

![](http://i0.wp.com/mxm.neland.cn/wp-content/uploads/2015/09/7d3eb389b7724878bd7e12ebc6dbcdb5_b.png)

阻塞：当前线程会被挂起，直到有数据。（同步对于线程来说，不会被挂起，只是函数没有走完）

非阻塞：不会挂起当前线程，有数据的时候会进行通知。

同步：每次函数执行都代表要处理的逻辑完成。

异步：函数执行只代表函数完成，而结果通过其它方式通知，如信号量、回调函数等。

 
用读取文件举例。

同步阻塞：read函数执行完后，数据已经准备好。

同步非阻塞：read函数执行完后，需要定时的去check文件句柄，判断文件是否准备就绪。

异步阻塞：读文件丢到一个线程里面去，读好了再通知另外一个线程。

异步非阻塞：读文件丢到一个线程里面去，读文件线程采用轮询检测文件是否就绪，好了再通知另外一个线程。