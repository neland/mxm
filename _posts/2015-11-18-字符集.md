---
layout: post
title: 字符集
comments: true
category: Win32
---
## 字符集概念的一些梳理

* 计算机只认数字，所以用数字来表达文字，需要一张表，这就是字符集 。最原始的字符集就是ASCII。
* 每个国家文字不一样，就出现了不同的字符集，如中文，就是GB2312，日文，就是JIS。
* 如果当前系统或应用用的是中文字符集，我们把日文编码形成的数字去映射，那么必定获得的是一个中文。
* 出现以上问题后，一个国际化的组织制定了一个大的字符集，可以包含人类迄今为止用到的所有字符，这个就是Unicode。
* Unicode只是一张表，要把它能够让计算机明白，则需要对应的编码格式，就出现了Utf-16 Utf-32等。
    以上的编码格式在使用的时候都固定了字符长度，也就是给你一段内存，固定将2个或4个字节转换为数字，然后去查表。
    这样首先是无法将原来最初的ASCII完美的兼容（需要转换为2个或4个字节），而且性能也差（固定字节长度）
    后来出现了一种编码格式-Utf-8，一种动态的字节编码格式。
* 做国际化应用的时候，我们首先是要让应用启用Unicode字符集（Windows的Mfc程序一般根据各国语言选择字符集）。
* 字符编码采用Utf-8。对于一些老系统，可能要做一些编码格式间接的转换。